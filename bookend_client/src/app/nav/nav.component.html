<header class="header">
    <div class="header-content">
        <a routerLink="/" class="navbar-brand" routerLinkActive="active">Bookend App</a>
        <nav class="nav" *ngIf="(accountService.currentUser$ | async) as user">
            <ul class="nav-list">
                <li class="nav-item" (click)="removeMobileMenu()">
                    <a class="nav-link" routerLink="/library" routerLinkActive="active">My Library</a>
                </li>
                <li class="nav-item" *appHasRole="['Publisher']" (click)="removeMobileMenu()">
                    <a class="nav-link" routerLink="/books/manage" routerLinkActive="active">Books</a>
                </li>
                <li class="nav-item" *appHasRole="['AppMember']" (click)="removeMobileMenu()">
                    <a class="nav-link" routerLink="/books" routerLinkActive="active">Books</a>
                </li>
                <li class="nav-item" (click)="removeMobileMenu()">
                    <a class="nav-link" routerLink="/messages" routerLinkActive="active">Messages</a>
                </li>
                <li class="nav-item" (click)="removeMobileMenu()">
                    <a class="nav-link" routerLink="/bookclubs" routerLinkActive="active">Bookclubs</a>
                </li>
                <li class="nav-item dropdown" dropdown>
                    <a class="dropdown-toggle text-decoration-none text-light inline" dropdownToggle>Manage Account</a>
                    <div class="dropdown-menu" *dropdownMenu>
                        <a class="dropdown-item nav-link" routerLink="/member/edit" (click)="removeMobileMenu()">Edit Profile</a>
                        <a class="dropdown-item nav-link" *appHasRole="['Admin', 'Advertiser']" routerLink="/advertisements/manage" (click)="removeMobileMenu()">Manage Advertisements</a>
                        <a class="dropdown-item nav-link" *appHasRole="['Admin', 'Publisher']" routerLink="/books/manage" (click)="removeMobileMenu()">Manage Books</a>
                        <a class="dropdown-item nav-link" (click)="logout(); removeMobileMenu();">Logout</a>
                    </div>
                </li>
            </ul>
        </nav>
        <nav class="nav nav-login" *ngIf="!(accountService.currentUser$ | async)">
            <form class="login-form" #loginForm="ngForm" (ngSubmit)="login()" autocomplete="off">
                <input name="username" [(ngModel)]="model.userName" type="text" class="form-control" placeholder="UserName">
                <input name="password" [(ngModel)]="model.password" type="password" class="form-control" placeholder="Password">
                <button class="btn btn-info" type="submit">Login</button>
            </form>
        </nav>

        <div class="hamburger" (click)="toggleMobileMenu()">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
    </div>
</header>